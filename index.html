<!DOCTYPE html>
<html lang="en">

<head>
  <title>R2WC</title>  
  <link rel="stylesheet" href="./styles.css">  
</head>

<body>
  <div id="parent-app">
      <h1 class="App">WebComponent from GitHub Application...</h1>
      <div id="CHILD_TEXT"></div>
      <br/>
      <div id="CHILD_TEXT2"></div>
  </div>
  <div id="consent-web-component">
    <test-wc 
        id="WC-GIT-HUB"
        name="Server web Component GitHub Test" 
        link="login" 
        token="token-conset-456780-github"
        on-consent-success="onSuccessParentCall"
        on-consent-error="onErrorParentCall"
        on-consent-event="onConsentEvent"
      >
    </test-wc>
  </div>
  <script>
    var json = {
      userId: "LCF",
      authTest: "succes"
    }
    var jsonObj =JSON.stringify(json);
    document.getElementById('WC-GIT-HUB').setAttribute('info', jsonObj);

      function onSuccessParentCall(e) {
        console.info("PARENT : SUCCESS : ",e);
        var htmlvalue = `<div style="background-color: green;">`+ JSON.stringify(e) +`</div>`;
        document.getElementById("CHILD_TEXT").innerHTML = htmlvalue
      }     

      function onErrorParentCall(event) {
        console.info("PARENT : ERROR : ",event);
        var htmlvalue = `<div style="background-color: red;">`+ JSON.stringify(event) +`</div>`;
        document.getElementById("CHILD_TEXT").innerHTML = htmlvalue;
      }

      function onConsentEvent(e) {
        console.info("PARENT Global : consentEvent : ",e);
        var htmlvalue = `<div style="background-color: orange;">`+ JSON.stringify(e) +`</div>`;
        document.getElementById("CHILD_TEXT2").innerHTML = htmlvalue
      }
  </script>
  <script src="./ravi-web-component.umd.js" ></script>
</body>

</html>